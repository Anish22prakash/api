<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    .gmap_canvas {
        overflow:hidden;
        background:none!important;
        height:500px;width:600px;
    }
    .mapouter{
        position:relative;
        text-align:right;
        height:500px;
        width:600px;
    }
    </style>
</head>
<body>
    <input type="text" id="city">
    <button onClick="getdata()">Search Weather</button>
   <div id="group1"></div>

   <div class="mapouter">
       <div class="gmap_canvas">
       <iframe width="600" height="500" id="gmap_canvas" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
      <!-- <a href="https://123movies-to.org"></a><br>
     <a href="https://www.embedgooglemap.net">embedgooglemap.net</a> -->
</div>
</div>


</body>
</html>

<script>
    const key="080df2ea2a482191cc1b47043318ab4b"



 async function getdata(){
    let city= document.getElementById("city").value
      "https://maps.google.com/maps?q=patna&t=&z=13&ie=UTF8&iwloc=&output=embed"
  let url =`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${key}`
  
  console.log(url)
      try{
          var res= await fetch(url)
          var user= await res.json()
          console.log(user)
          display(user)
      }
      catch(er){
          console.log(er)
      }
  }
 

  function display(data){
     var box= document.getElementById("group1")
     box.innerHTML=null
      var cityname=document.createElement("h2")
      cityname.innerText=data.name

      var tempre=document.createElement("h2")
      tempre.innerText=data.main.temp
      var map=document.getElementById("gmap_canvas")
      map.src= `https://maps.google.com/maps?q=${data.name}&t=&z=13&ie=UTF8&iwloc=&output=embed`

   document.getElementById("group1").append(cityname,tempre)
    
   
  }
//   function getLocationWeather() {
//   navigator.geolocation.getCurrentPosition(success);
//   function success(position) {
//     const latitude = position.coords.latitude;
//     const longitude = position.coords.longitude;
//     console.log(latitude);
//     console.log(longitude);
//   }
// }

// getLocationWeather()

// https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${api_key}
 


</script>